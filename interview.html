<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/VEN/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/VEN/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="iOSé¢è¯•é›†é”¦," />





  <link rel="alternate" href="/atom.xml" title="CepheusSun" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="å†™å‡ºä¸­åºéå†äºŒå‰æ ‘çš„ç®—æ³•(ä¸é™ç¼–ç¨‹è¯­è¨€ï¼Œå·²çŸ¥ TreeRoot ä¸ºäºŒå‰æ ‘çš„æ ¹)
å¿«é€Ÿæ’åºï¼Œå½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
UITableViewCell å¯é‡ç”¨æœºåˆ¶æ˜¯ä»€ä¹ˆ?æœ‰ä»€ä¹ˆè¦æ³¨æ„çš„åœ°æ–¹?
OC ä¸­çš„ @property å’Œ @synthesize æœ‰ä»€ä¹ˆç”¨ï¼Ÿ
OCæœ‰æ²¡æœ‰é‡è½½(overload)å’Œé‡å†™(overwrite)ï¼Ÿæœ‰çš„è¯è¯·ä¸¾ä¸ªä¾‹å­ã€‚
åˆ—ä¸¾å‡º iOS å¼€å‘ä¸­ä¸‰ç§æœ€å¸¸å‡ºç°çš„å¾ªç¯å¼•ç”¨çš„">
<meta property="og:type" content="article">
<meta property="og:title" content="iOSé¢è¯•é›†é”¦">
<meta property="og:url" content="http://www.CepheusSun.com/interview.html">
<meta property="og:site_name" content="CepheusSun">
<meta property="og:description" content="å†™å‡ºä¸­åºéå†äºŒå‰æ ‘çš„ç®—æ³•(ä¸é™ç¼–ç¨‹è¯­è¨€ï¼Œå·²çŸ¥ TreeRoot ä¸ºäºŒå‰æ ‘çš„æ ¹)
å¿«é€Ÿæ’åºï¼Œå½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
UITableViewCell å¯é‡ç”¨æœºåˆ¶æ˜¯ä»€ä¹ˆ?æœ‰ä»€ä¹ˆè¦æ³¨æ„çš„åœ°æ–¹?
OC ä¸­çš„ @property å’Œ @synthesize æœ‰ä»€ä¹ˆç”¨ï¼Ÿ
OCæœ‰æ²¡æœ‰é‡è½½(overload)å’Œé‡å†™(overwrite)ï¼Ÿæœ‰çš„è¯è¯·ä¸¾ä¸ªä¾‹å­ã€‚
åˆ—ä¸¾å‡º iOS å¼€å‘ä¸­ä¸‰ç§æœ€å¸¸å‡ºç°çš„å¾ªç¯å¼•ç”¨çš„">
<meta property="og:image" content="http://ocg4av0wv.bkt.clouddn.com/layer%E7%9F%A5%E8%AF%86.png">
<meta property="og:updated_time" content="2017-05-19T01:59:28.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="iOSé¢è¯•é›†é”¦">
<meta name="twitter:description" content="å†™å‡ºä¸­åºéå†äºŒå‰æ ‘çš„ç®—æ³•(ä¸é™ç¼–ç¨‹è¯­è¨€ï¼Œå·²çŸ¥ TreeRoot ä¸ºäºŒå‰æ ‘çš„æ ¹)
å¿«é€Ÿæ’åºï¼Œå½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
UITableViewCell å¯é‡ç”¨æœºåˆ¶æ˜¯ä»€ä¹ˆ?æœ‰ä»€ä¹ˆè¦æ³¨æ„çš„åœ°æ–¹?
OC ä¸­çš„ @property å’Œ @synthesize æœ‰ä»€ä¹ˆç”¨ï¼Ÿ
OCæœ‰æ²¡æœ‰é‡è½½(overload)å’Œé‡å†™(overwrite)ï¼Ÿæœ‰çš„è¯è¯·ä¸¾ä¸ªä¾‹å­ã€‚
åˆ—ä¸¾å‡º iOS å¼€å‘ä¸­ä¸‰ç§æœ€å¸¸å‡ºç°çš„å¾ªç¯å¼•ç”¨çš„">
<meta name="twitter:image" content="http://ocg4av0wv.bkt.clouddn.com/layer%E7%9F%A5%E8%AF%86.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"hide","offset":12,"offset_float":0,"b2t":false,"scrollpercent":true},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 'undefined',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: "",
      labels: ""
    }
  };
</script>



  <link rel="canonical" href="http://www.CepheusSun.com/interview.html"/>





  <title>iOSé¢è¯•é›†é”¦ | CepheusSun</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">CepheusSun</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Code for a better world.</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            æœç´¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="æœç´¢..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.CepheusSun.com/interview.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="CepheusSun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://ocg4av0wv.bkt.clouddn.com/2017-07-18--3b9f0d5785eefeb7.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CepheusSun">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">iOSé¢è¯•é›†é”¦</h2>
        

        <div class="post-meta">
          <span class="post-time">
            

            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°äº</span>
              
              <time title="æ›´æ–°äº" itemprop="dateModified" datetime="2017-05-19T09:59:28+08:00">
                2017-05-19
              </time>
            
          </span>

          

          
            
          

          
          
             <span id="/interview.html" class="leancloud_visitors" data-flag-title="iOSé¢è¯•é›†é”¦">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•° </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  4,352
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  17
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <ol>
<li>å†™å‡ºä¸­åºéå†äºŒå‰æ ‘çš„ç®—æ³•(ä¸é™ç¼–ç¨‹è¯­è¨€ï¼Œå·²çŸ¥ TreeRoot ä¸ºäºŒå‰æ ‘çš„æ ¹)</li>
<li>å¿«é€Ÿæ’åºï¼Œå½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>UITableViewCell å¯é‡ç”¨æœºåˆ¶æ˜¯ä»€ä¹ˆ?æœ‰ä»€ä¹ˆè¦æ³¨æ„çš„åœ°æ–¹?</li>
<li>OC ä¸­çš„ @property å’Œ @synthesize æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</li>
<li>OCæœ‰æ²¡æœ‰é‡è½½(overload)å’Œé‡å†™(overwrite)ï¼Ÿæœ‰çš„è¯è¯·ä¸¾ä¸ªä¾‹å­ã€‚</li>
<li>åˆ—ä¸¾å‡º iOS å¼€å‘ä¸­ä¸‰ç§æœ€å¸¸å‡ºç°çš„å¾ªç¯å¼•ç”¨çš„åœºæ™¯ã€‚</li>
<li>MVC æ¨¡å¼å…·ä½“æŒ‡ä»€ä¹ˆï¼ŸiOSç°åœ¨æµè¡Œçš„ MVVM æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>iOS ä¸­è®¾è®¡é‡‘é’±è®¡ç®—å’Œæ¯”è¾ƒæ—¶ï¼Œç”¨æ•°å€¼åº”è¯¥ç”¨å“ªä¸ªç±»å‹æ¥å¤„ç†ï¼Ÿ</li>
<li>iOS ä¸Šè§¦æ‘¸äº‹ä»¶çš„è§†å›¾æ£€æµ‹å’Œäº‹ä»¶ä¼ é€’è¿‡ç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ  </li>
<li>å†™ä¸€ä¸ªæŠ˜åŠæŸ¥æ‰¾æˆ–è€…å¿«é€Ÿæ’åº</li>
</ol>
<hr>
<ol>
<li>å¯¹å†…å­˜ç®¡ç†çš„ç†è§£ã€‚</li>
<li>ç±»åˆ«çš„ä½œç”¨</li>
<li>ç‚¹å‡»å±å¹•ä¸Šçš„æŒ‰é’®ï¼Œç³»ç»Ÿåšäº†ä»€ä¹ˆï¼Ÿ</li>
</ol>
<hr>
<ol>
<li><code>id</code> å’Œ <code>instancetype</code> çš„åŒºåˆ«?</li>
<li>æœ‰æ–¹æ³•æŸ¥çœ‹å½“å‰ç³»ç»Ÿå†…å­˜ä½¿ç”¨çš„æƒ…å†µå—ï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆ NotificationCenter è¦ removeObserver? å¦‚ä½•å®ç°è‡ªåŠ¨ removeï¼Ÿ</li>
<li>iOSçš„æ²™ç›’ç›®å½•ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿ App Bundle é‡Œé¢éƒ½æœ‰ä»€ä¹ˆï¼Ÿ</li>
<li>ç®€å•æè¿°ä¸€ä¸‹å®¢æˆ·ç«¯çš„ç¼“å­˜æœºåˆ¶ï¼Ÿ</li>
</ol>
<hr>
<ol>
<li>æŒ‰é’®æˆ–è€… View åœ¨è¿›è¡Œ frame åŠ¨ç”»çš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆç‚¹å‡» frame åŠ¨ç”»çš„é‡ç‚¹ä½ç½®æ‰èƒ½è§¦å‘äº‹ä»¶ï¼Ÿå¦‚ä½•åœ¨åŠ¨ç”»è¿‡ç¨‹ä¸­å“åº”äº‹ä»¶ï¼Ÿ<a id="more"></a>
</li>
</ol>
<p>#####1.å†™å‡ºä¸­åºéå†äºŒå‰æ ‘çš„ç®—æ³•(ä¸é™ç¼–ç¨‹è¯­è¨€ï¼Œå·²çŸ¥ TreeRoot ä¸ºäºŒå‰æ ‘çš„æ ¹)ã€‚  </p>
<p>æœ€è¿‘åœ¨å­¦ Python æ‰€ä»¥æ•´ç†äº†ä¸€ä¸ª Python ç‰ˆçš„</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -- coding: UTF-8 --</span></div><div class="line"><span class="comment"># @Date    : 2017-02-21</span></div><div class="line"><span class="comment"># @Author  : CepheusSun</span></div><div class="line"><span class="comment"># @Version : python 2.7</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tree</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, data, left, right)</span>:</span></div><div class="line">        self.data = data</div><div class="line">        self.left = left</div><div class="line">        self.right = right</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">in_visit</span><span class="params">(tree)</span>:</span></div><div class="line">    <span class="string">"""é€’å½’ä¸­åºéå†"""</span></div><div class="line">    <span class="keyword">if</span> tree:</div><div class="line">        in_visit(tree.left)</div><div class="line">        <span class="keyword">print</span> (tree.data)</div><div class="line">        in_visit(tree.right)</div><div class="line">        </div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">in_stack</span><span class="params">(tree)</span>:</span></div><div class="line">    <span class="string">"""å †æ ˆä¸­åºéå†"""</span></div><div class="line">    <span class="keyword">if</span> tree:</div><div class="line">        my_stack = []</div><div class="line">        node = tree</div><div class="line">        <span class="keyword">while</span> node <span class="keyword">or</span> my_stack:</div><div class="line">            <span class="keyword">while</span> node:</div><div class="line">                my_stack.append(node)</div><div class="line">                node = node.left</div><div class="line">            node = my_stack.pop()</div><div class="line">            print(node.data)</div><div class="line">            node = node.right</div><div class="line"></div><div class="line">            <span class="keyword">print</span> my_stack2.pop().data</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    node1 = Tree(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>)</div><div class="line">    node2 = Tree(<span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>)</div><div class="line">    node3 = Tree(<span class="number">3</span>, node1, node2)</div><div class="line">    node4 = Tree(<span class="number">4</span>, <span class="number">0</span>, <span class="number">0</span>)</div><div class="line">    node5 = Tree(<span class="number">5</span>, node4, node3)</div><div class="line">    print(<span class="string">"the post_visit is ..."</span>)</div><div class="line">    post_visit(node5)</div><div class="line">    post_stack(node5)</div><div class="line">    print(<span class="string">"the pre_visit is ..."</span>)</div><div class="line">    pre_visit(node5)</div><div class="line">    pre_stack(node5)</div><div class="line">    print(<span class="string">"the in_visit is ..."</span>)</div><div class="line">    in_visit(node5)</div><div class="line">    in_stack(node5)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    main()</div></pre></td></tr></table></figure>
<h5 id="2-å¿«é€Ÿæ’åºï¼Œå½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#2-å¿«é€Ÿæ’åºï¼Œå½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="2.å¿«é€Ÿæ’åºï¼Œå½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>2.å¿«é€Ÿæ’åºï¼Œå½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h5><ul>
<li>å½’å¹¶æ’åºï¼šç¨³å®šï¼Œæ—¶é—´å¤æ‚åº¦ O(nlog n)</li>
<li>å¿«é€Ÿæ’åºï¼šä¸ç¨³å®šï¼Œæ—¶é—´å¤æ‚åº¦ æœ€ç†æƒ³ O(nlogn) æœ€å·®æ—¶é—´O(n^2)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -- coding: UTF-8 --</span></div><div class="line"><span class="comment"># @Date    : 2017-02-21</span></div><div class="line"><span class="comment"># @Author  : CepheusSun</span></div><div class="line"><span class="comment"># @Version : python 2.7</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">quick_sort</span><span class="params">(array, first_index, last_index)</span>:</span></div><div class="line">    <span class="string">"""å¿«é€Ÿæ’åº"""</span></div><div class="line">    <span class="keyword">if</span> first_index &lt; last_index:</div><div class="line">        div_index = partition(array, first_index, last_index)</div><div class="line">        quick_sort(array, first_index, div_index)</div><div class="line">        quick_sort(array, div_index + <span class="number">1</span>, last_index)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        <span class="keyword">return</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">partition</span><span class="params">(array, first_index, last_index)</span>:</span></div><div class="line">    i = first_index - <span class="number">1</span></div><div class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(first_index, last_index):</div><div class="line">        <span class="keyword">if</span> array[j] &lt;= array[last_index]:</div><div class="line">            i += <span class="number">1</span></div><div class="line">            array[i], array[j] = array[j], array[i]</div><div class="line">    array[i + <span class="number">1</span>], array[last_index] = array[last_index], array[i + <span class="number">1</span>]</div><div class="line">    <span class="keyword">return</span> i</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge</span><span class="params">(left, right)</span>:</span></div><div class="line">    i, j = <span class="number">0</span>, <span class="number">0</span></div><div class="line">    res = []</div><div class="line">    <span class="keyword">while</span> i &lt; len(left) <span class="keyword">and</span> j &lt; len(right):</div><div class="line">        <span class="keyword">if</span> left[i] &lt;= right[j]:</div><div class="line">            res.append(left[i])</div><div class="line">            i += <span class="number">1</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            res.append(right[j])</div><div class="line">            j += <span class="number">1</span></div><div class="line">    res += left[i:]</div><div class="line">    res += right[j:]</div><div class="line">    <span class="keyword">return</span> res</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_sort</span><span class="params">(array)</span>:</span></div><div class="line">    <span class="string">"""å¹¶å½’æ’åº"""</span></div><div class="line">    <span class="keyword">if</span> len(array) &lt;= <span class="number">1</span>:</div><div class="line">        <span class="keyword">return</span> array</div><div class="line">    num = len(array) / <span class="number">2</span></div><div class="line">    left = merge_sort(array[:num])</div><div class="line">    right = merge_sort(array[num:])</div><div class="line">    <span class="keyword">return</span> merge(left, right)</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    array = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">76</span>, <span class="number">5</span>, <span class="number">567</span>, <span class="number">54</span>, <span class="number">6</span>, <span class="number">54</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">0</span>]</div><div class="line">    print(<span class="string">"initial array : \n"</span>, array)</div><div class="line">    print(<span class="string">"merge sort result: \n"</span>, merge_sort(array))</div><div class="line">    quick_sort(array, <span class="number">0</span>, len(array) - <span class="number">1</span>)</div><div class="line">    print(<span class="string">"result array :\n"</span>, array)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    main()</div><div class="line"></div><div class="line">``` </div><div class="line">    </div><div class="line"><span class="comment">##### 3.UITableViewCell å¯é‡ç”¨æœºåˆ¶æ˜¯ä»€ä¹ˆ?æœ‰ä»€ä¹ˆè¦æ³¨æ„çš„åœ°æ–¹?</span></div><div class="line"></div><div class="line">UITableView é€šè¿‡é‡ç”¨å•å…ƒæ ¼æ¥è¾¾åˆ°èŠ‚çœå†…å­˜çš„ç›®çš„ï¼šé€šè¿‡ä¸ºæ¯ä¸ªå•å…ƒæ ¼æŒ‡å®šä¸€ä¸ªé‡ç”¨æ ‡è¯†ç¬¦ï¼Œå³æŒ‡å®šæ¥å•å…ƒæ ¼çš„ç§ç±»ï¼Œä»¥åŠå½“å•å…ƒæ ¼æ»šå‡ºå±å¹•æ—¶ï¼Œå…è®¸æ¢å¤å•å…ƒæ ¼ä»¥ä¾¿é‡ç”¨ã€‚å¯¹äºä¸åŒç§ç±»çš„å•å…ƒæ ¼ä½¿ç”¨ä¸åŒçš„IDï¼Œå¯¹äºç®€å•çš„è¡¨æ ¼ï¼Œä¸€ä¸ªæ ‡è¯†ç¬¦å°±å¤Ÿäº†ã€‚</div><div class="line"></div><div class="line">éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š</div><div class="line">    å–å‡ºæ¥çš„cellæ˜¯æœ‰å¯èƒ½å·²ç»æ†ç»‘è¿‡æ•°æ®æˆ–è€…åŠ è¿‡å­è§†å›¾çš„ï¼Œå¦‚æœæœ‰å¿…è¦ï¼Œè¦æ¸…é™¤éœ€è¦ç”¨ä¸æ˜¾ç¤ºçš„æ•°æ®å’Œremoveæ‰addè¿‡çš„å­è§†å›¾ã€‚ä¸ç„¶ä¼šé€ æˆé”™ä¹±çš„æƒ…å†µ</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">##### 4.OC ä¸­çš„ @property å’Œ @synthesize æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</span></div><div class="line"></div><div class="line">ç­”ï¼š</div><div class="line">iOS2<span class="number">.0</span> Appleå¼•å…¥ `@property` `@synthesize` æ¦‚å¿µï¼Œä¸¤è€…ç»„åˆä½¿ç”¨å¯ä»¥è‡ªåŠ¨ç”Ÿæˆ `seter` `geter`æ–¹æ³•ï¼ŒiOS4<span class="number">.0</span>ä»¥ååªéœ€è¦ `@property` å³å¯å®ç° è‡ªåŠ¨ç”Ÿæˆ `seter` `geter`æ–¹æ³•ã€‚</div></pre></td></tr></table></figure>
<p>//setter</p>
<ul>
<li>(void)setObjStr:(NSString *)objStr {<br>   if (_ objStr != objStr) {<pre><code>[_objStr release];
 _objStr = [objStr copy];
</code></pre>   }<br>}<br>//getter</li>
<li>(NSString *)objStr {<br>   return _objStr;<br>}<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ä»¥ä¸Šä»£ç ç­‰ä»·äº</div></pre></td></tr></table></figure>
</li>
</ul>
<p>//iOS2.0-iOS4.0<br>@interface Obj : NSObject<br>@property (nonatomic, copy) NSString *objStr;<br>@end</p>
<p>@implementation Object<br>@synthesize objStr = _ objStr;<br>@end<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">iOS4.0åŠä»¥å</div></pre></td></tr></table></figure></p>
<p>@interface Obj : NSObject<br>@property (nonatomic, copy) NSString *objStr;<br>@end<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">##### 5.OCæœ‰æ²¡æœ‰é‡è½½(overload)å’Œé‡å†™(overwrite)ï¼Ÿæœ‰çš„è¯è¯·ä¸¾ä¸ªä¾‹å­ã€‚</div><div class="line"></div><div class="line">ç­”ï¼š</div><div class="line">OC è¯­è¨€ä¸æ”¯æŒé‡è½½</div><div class="line"></div><div class="line">```oc</div><div class="line">-(void)doSth:(NSInteger)integer;</div><div class="line">-(void)doSth:(NSString *)str; </div><div class="line">//å¯¹Objective-Cè€Œè¨€æ˜¯ä¸€æ ·çš„ï¼Œéƒ½å«æ–¹æ³•doSth: åŒæ—¶å®šä¹‰å®ç°è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯æ— æ³•ç¼–è¯‘é€šè¿‡çš„ã€‚ è‹¥è¦è¾¾åˆ°ç±»ä¼¼é‡è½½çš„æ•ˆæœï¼Œå¯ä»¥è¿™æ ·è·Ÿä¸åŒå‚æ•°ï¼š</div><div class="line">-(void)doSthWithInt:(NSInteger)integer;</div><div class="line">-(void)doSthWithStr:(NSString *)str</div></pre></td></tr></table></figure></p>
<p>OC æ”¯æŒé‡å†™</p>
<pre><code>å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•
</code></pre><h5 id="6-åˆ—ä¸¾å‡º-iOS-å¼€å‘ä¸­ä¸‰ç§æœ€å¸¸å‡ºç°çš„å¾ªç¯å¼•ç”¨çš„åœºæ™¯ã€‚"><a href="#6-åˆ—ä¸¾å‡º-iOS-å¼€å‘ä¸­ä¸‰ç§æœ€å¸¸å‡ºç°çš„å¾ªç¯å¼•ç”¨çš„åœºæ™¯ã€‚" class="headerlink" title="6.åˆ—ä¸¾å‡º iOS å¼€å‘ä¸­ä¸‰ç§æœ€å¸¸å‡ºç°çš„å¾ªç¯å¼•ç”¨çš„åœºæ™¯ã€‚"></a>6.åˆ—ä¸¾å‡º iOS å¼€å‘ä¸­ä¸‰ç§æœ€å¸¸å‡ºç°çš„å¾ªç¯å¼•ç”¨çš„åœºæ™¯ã€‚</h5><p>ç­”ï¼š</p>
<ul>
<li>delegate è¢«å¼ºå¼•ç”¨äº†ï¼Œä»£ç†åº”è¯¥ä½¿ç”¨ weak (æ‹“å±• weak å¹²äº†å•¥ä½¿è‡ªå·±å¯ä»¥é˜²æ­¢å¾ªç¯çš„å‡ºç°)  </li>
<li>ä½¿ç”¨ block çš„æ—¶å€™ï¼Œæ³¨æ„æ˜¯å¦å‡ºç°äº’ç›¸æŒæœ‰ã€‚  </li>
<li>ä½¿ç”¨ NSTimer çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä½¿<code>+scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:</code> è¿™ä¸ªæ–¹æ³•åœ¨å»ºç«‹çš„æ—¶å€™éœ€è¦æŒ‡å®š target ï¼Œä¼šè¢« timer retain ä¸€ä»½ã€‚å› ä¸º timer è¿˜åœ¨ä¸€ç›´æ‰§è¡Œï¼Œå°±ä¼šå¯¼è‡´æ— æ³•è¿è¡Œ deallocçš„æ–¹æ³•ã€‚æ­£ç¡®çš„åšæ³•æ˜¯åœ¨ viewDidDisappear: çš„æ—¶å€™åœæ­¢timer </li>
</ul>
<h5 id="7-MVC-æ¨¡å¼å…·ä½“æŒ‡ä»€ä¹ˆï¼ŸiOSç°åœ¨æµè¡Œçš„-MVVM-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#7-MVC-æ¨¡å¼å…·ä½“æŒ‡ä»€ä¹ˆï¼ŸiOSç°åœ¨æµè¡Œçš„-MVVM-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="7.MVC æ¨¡å¼å…·ä½“æŒ‡ä»€ä¹ˆï¼ŸiOSç°åœ¨æµè¡Œçš„ MVVM æ˜¯ä»€ä¹ˆï¼Ÿ"></a>7.MVC æ¨¡å¼å…·ä½“æŒ‡ä»€ä¹ˆï¼ŸiOSç°åœ¨æµè¡Œçš„ MVVM æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>MVCï¼š</p>
<pre><code>MVCæ¨¡å¼è€ƒè™‘ä¸‰ç§å¯¹è±¡ï¼šæ¨¡å‹å¯¹è±¡ã€è§†å›¾å¯¹è±¡å’Œæ§åˆ¶å™¨å¯¹è±¡ã€‚ æ¨¡å‹å¯¹è±¡è´Ÿè´£åº”ç”¨ç¨‹åºçš„æ•°æ®å’Œå®šä¹‰æ“ä½œæ•°æ®çš„é€»è¾‘ï¼› è§†å›¾å¯¹è±¡çŸ¥é“å¦‚ä½•æ˜¾ç¤ºåº”ç”¨ç¨‹åºçš„æ¨¡å‹æ•°æ®ï¼› æ§åˆ¶å™¨å¯¹è±¡æ˜¯Mä¸Vä¹‹é—´çš„åè°ƒè€…ã€‚
</code></pre><p>MVVMï¼š</p>
<pre><code>MVVM æŠŠ View Controller ä½œä¸º View
View å’Œ Model ä¹‹é—´æ²¡æœ‰ç´§è€¦åˆ
MVVM æ˜¯åœ¨ View å’Œ ViewModel ä¹‹é—´è¿›è¡Œç»‘å®šã€‚
ä»€ä¹ˆæ˜¯ ViewModel å‘¢ï¼ŸåŸºæœ¬ä¸Šæ¥è¯´ï¼Œå®ƒæ˜¯ View å’Œ View çŠ¶æ€çš„ç‹¬ç«‹äº     UIKit å¤–çš„ä¸€ä¸ªå‘ˆç°ï¼ŒViewModel è°ƒç”¨ Model ä¸­çš„çš„å˜åŒ–ï¼Œæ ¹æ® Model çš„å˜åŒ–è¿›è¡Œè°ƒæ•´ï¼Œå¹¶ä¸”é€šè¿‡ View å’Œ ViewModel çš„ç»‘å®šï¼ŒåŒæ­¥è°ƒæ•´ Viewã€‚
</code></pre><h5 id="8-iOS-ä¸­è®¾è®¡é‡‘é’±è®¡ç®—å’Œæ¯”è¾ƒæ—¶ï¼Œç”¨æ•°å€¼åº”è¯¥ç”¨å“ªä¸ªç±»å‹æ¥å¤„ç†ï¼Ÿ"><a href="#8-iOS-ä¸­è®¾è®¡é‡‘é’±è®¡ç®—å’Œæ¯”è¾ƒæ—¶ï¼Œç”¨æ•°å€¼åº”è¯¥ç”¨å“ªä¸ªç±»å‹æ¥å¤„ç†ï¼Ÿ" class="headerlink" title="8.iOS ä¸­è®¾è®¡é‡‘é’±è®¡ç®—å’Œæ¯”è¾ƒæ—¶ï¼Œç”¨æ•°å€¼åº”è¯¥ç”¨å“ªä¸ªç±»å‹æ¥å¤„ç†ï¼Ÿ"></a>8.iOS ä¸­è®¾è®¡é‡‘é’±è®¡ç®—å’Œæ¯”è¾ƒæ—¶ï¼Œç”¨æ•°å€¼åº”è¯¥ç”¨å“ªä¸ªç±»å‹æ¥å¤„ç†ï¼Ÿ</h5><ul>
<li><code>NSDecimalNumber</code> ç»§æ‰¿äº <code>NSNumber</code>   </li>
<li><p><code>NSDecimalNumber</code> åŒ…å«  åŠ å‡ä¹˜é™¤ï¼Œå¹‚è¿ç®—ï¼ŒæŒ‡æ•°è¿ç®—ï¼Œå››èˆäº”å…¥ï¼Œæ¯”è¾ƒè¿ç®—ã€‚  </p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line">	/** ç¤ºä¾‹ æ¯”è¾ƒè¿ç®—</div><div class="line">	NSOrderedAscending å‡åº</div><div class="line">	NSOrderedSame ç›¸ç­‰</div><div class="line">	NSOrderedDescending é™åº</div><div class="line">	- (NSComparisonResult)compare:(NSNumber *)decimalNumber;</div><div class="line">	*/</div><div class="line">	NSDecimalNumber *discount1 = [NSDecimalNumber decimalNumberWithString:@&quot;1.2&quot;];</div><div class="line">	NSDecimalNumber *discount2 = [NSDecimalNumber decimalNumberWithString:@&quot;1.3&quot;];</div><div class="line">	NSComparisonResult result = [discount1 compare:discount2];</div><div class="line">	if (result == NSOrderedAscending) &#123;</div><div class="line">	    NSLog(@&quot;1.2 &lt; 1.3&quot;);</div><div class="line">	&#125; else if (result == NSOrderedSame) &#123;</div><div class="line">	    NSLog(@&quot;1.2 == 1.3&quot;);</div><div class="line">	&#125; else if (result == NSOrderedDescending) &#123;</div><div class="line">	    NSLog(@&quot;1.2 &gt; 1.3&quot;);</div><div class="line">	&#125;</div><div class="line">	è¾“å‡ºç»“æœ 1.2 &lt; 1.3</div><div class="line">	``` </div><div class="line"></div><div class="line">##### 9.iOS ä¸Šè§¦æ‘¸äº‹ä»¶çš„è§†å›¾æ£€æµ‹å’Œäº‹ä»¶ä¼ é€’è¿‡ç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ  </div><div class="line"></div><div class="line">* å‘ç”Ÿè§¦æ‘¸äº‹ä»¶åï¼Œç³»ç»Ÿä¼šå°†è¯¥äº‹ä»¶åŠ å…¥åˆ°ä¸€ä¸ªç”±UIApplicationç®¡ç†çš„äº‹ä»¶é˜Ÿåˆ—ä¸­ã€‚(ä¸ºä»€ä¹ˆæ˜¯é˜Ÿåˆ—è€Œä¸æ˜¯æ ˆï¼Ÿå› ä¸ºé˜Ÿåˆ—çš„ç‰¹å®šæ˜¯å…ˆè¿›å…ˆå‡ºï¼Œå…ˆäº§ç”Ÿçš„äº‹ä»¶å…ˆå¤„ç†æ‰ç¬¦åˆå¸¸ç†ï¼Œæ‰€ä»¥æŠŠäº‹ä»¶æ·»åŠ åˆ°é˜Ÿåˆ—ã€‚)</div><div class="line"></div><div class="line">* UIApplicationä¼šä»äº‹ä»¶é˜Ÿåˆ—ä¸­å–å‡ºæœ€å‰é¢çš„äº‹ä»¶ï¼Œå¹¶å°†äº‹ä»¶åˆ†å‘ä¸‹å»ä»¥ä¾¿å¤„ç†ï¼Œé€šå¸¸ï¼Œå…ˆå‘é€äº‹ä»¶ç»™åº”ç”¨ç¨‹åºçš„ä¸»çª—å£ï¼ˆkeyWindowï¼‰ã€‚</div><div class="line"></div><div class="line">* ä¸»çª—å£ä¼šåœ¨è§†å›¾å±‚æ¬¡ç»“æ„ä¸­æ‰¾åˆ°ä¸€ä¸ªæœ€åˆé€‚çš„è§†å›¾æ¥å¤„ç†è§¦æ‘¸äº‹ä»¶ï¼Œè¿™ä¹Ÿæ˜¯æ•´ä¸ªäº‹ä»¶å¤„ç†è¿‡ç¨‹çš„ç¬¬ä¸€æ­¥ã€‚</div><div class="line">æ‰¾åˆ°åˆé€‚çš„è§†å›¾æ§ä»¶åï¼Œå°±ä¼šè°ƒç”¨è§†å›¾æ§ä»¶çš„touchesæ–¹æ³•æ¥ä½œå…·ä½“çš„äº‹ä»¶å¤„ç†ã€‚</div><div class="line"></div><div class="line">##### 10.å†™ä¸€ä¸ªæŠ˜åŠæŸ¥æ‰¾æˆ–è€…å¿«é€Ÿæ’åº</div><div class="line"></div><div class="line">    ç”¨ Pythonå†™äº†ä¸€ä¸ªäºŒåˆ†æŸ¥æ‰¾</div><div class="line">    </div><div class="line">```python</div><div class="line"># -- coding: UTF-8 --</div><div class="line"># @Date    : 2017-02-21</div><div class="line"># @Author  : CepheusSun</div><div class="line"># @Version : python 2.7</div><div class="line"></div><div class="line"></div><div class="line">def in_bisect(word_list, word):</div><div class="line">    &quot;&quot;&quot;check weather a word is in a list using bisection search.</div><div class="line">    Precondition: the words in the list are sorted</div><div class="line"></div><div class="line">    :param word_list: list of strings</div><div class="line">    :param word: string</div><div class="line">    &quot;&quot;&quot;</div><div class="line">    if len(word_list) == 0:</div><div class="line">        return False</div><div class="line"></div><div class="line">    # ç»“æœå››èˆäº”å…¥</div><div class="line">    i = len(word_list) // 2</div><div class="line">    if word_list[i] == word:</div><div class="line">        return True</div><div class="line"></div><div class="line">    if word_list[i] &gt; word:</div><div class="line">        # search the first half</div><div class="line">        return in_bisect(word_list[:i], word)</div><div class="line">    else:</div><div class="line">        # search the second half</div><div class="line">        return in_bisect(word_list[i + 1:], word)</div><div class="line"></div><div class="line"></div><div class="line">def main():</div><div class="line">    array = [&apos;1&apos;, &apos;asf&apos;, &apos;sf2&apos;, &apos;df1&apos;, &apos;2das&apos;, &apos;5asdfd&apos;, &apos;0sadf&apos;,</div><div class="line">            &apos;2ge&apos;, &apos;efc2&apos;, &apos;1eds&apos;, &apos;2ef&apos;, &apos;2apple&apos;, &apos;apple&apos;, &apos;orange&apos;]</div><div class="line">    print(in_bisect(array, &apos;1&apos;))</div><div class="line">    print(in_bisect(array, &apos;111&apos;))</div><div class="line"></div><div class="line"></div><div class="line">if __name__ == &apos;__main__&apos;:</div><div class="line">    main()</div></pre></td></tr></table></figure>
</li>
</ul>
<p>Question 1.å†…å­˜ç®¡ç†ç†è§£ä¸æ­£ç¡®çš„æ˜¯<br>A ç¨‹åºAé‡Œæœ‰ä¸€æ®µå†…å­˜è¢«æˆåŠŸç”³è¯·å®Œæˆä¹‹åï¼Œå†…å­˜è®¡æ•°å™¨å°±ä»0å˜ä¸º1 (è¿™ä¸ªè¿‡ç¨‹æ˜¯alloc);<br>B ç¨‹åºBé‡Œè¦ä½¿ç”¨å·²å­˜åœ¨å†…å­˜ï¼Œé‚£ä¹ˆå†…å­˜è®¡æ•°å™¨ä»1å˜ä¸º2 (è¿™ä¸ªè¿‡ç¨‹æ˜¯retainæˆ–è€…copy);<br>C ç´§æ¥ç€ç¨‹åºAä¸éœ€è¦è¿™ä¸ªå†…å­˜äº†ï¼Œé‚£ä¹ˆç¨‹åºAå°±æŠŠè¿™ä¸ªå†…å­˜è®¡æ•°å™¨å‡1 (è¿™ä¸ªè¿‡ç¨‹æ˜¯release);<br>D å½“ç³»ç»Ÿå‘ç°è¿™ä¸ªå†…å­˜è®¡æ•°å™¨å˜ä¸ºå°äºç­‰äº0ï¼Œé‚£ä¹ˆå°±è°ƒç”¨åƒåœ¾å›æ”¶ç¨‹åºæŠŠè¿™æ®µå†…å­˜å›æ”¶(è¿™ä¸ªè¿‡ç¨‹æ˜¯dealloc)ï¼›</p>
<p>Question 2.ç±»åˆ«çš„ä½œç”¨ä¸æ­£ç¡®çš„æ˜¯<br>A å°†ç±»çš„å®ç°åˆ†æ•£åˆ°å¤šä¸ªä¸åŒæ–‡ä»¶æˆ–å¤šä¸ªä¸åŒæ¡†æ¶ä¸­ã€‚<br>B åˆ›å»ºå¯¹ç§æœ‰æ–¹æ³•çš„å‰å‘å¼•ç”¨ã€‚<br>C å‘å¯¹è±¡æ·»åŠ éæ­£å¼åè®®ã€‚ ç»§æ‰¿å¯ä»¥å¢åŠ ï¼Œä¿®æ”¹æˆ–è€…åˆ é™¤æ–¹æ³•ã€‚<br>D ä¸èƒ½æ·»åŠ å±æ€§  </p>
<p>Question 3.ç‚¹å‡»å±å¹•ä¸Šçš„æŒ‰é’®ï¼Œç³»ç»Ÿåšäº†ä»€ä¹ˆï¼Ÿ  </p>
<h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><p>Answer 1. B  ä½¿ç”¨å¹¶ä¸ä¼šå¢åŠ å¼•ç”¨æŠ€æœ¯ï¼ŒæŒæœ‰æ‰ä¼šã€‚<br>Answer 2. D  </p>
<pre><code>class-continuationåˆ†ç±»æ˜¯å”¯ä¸€èƒ½ç»™æ·»åŠ å±æ€§çš„åˆ†ç±»ã€‚è€Œæ‰€è°“çš„å…³è”å¯¹è±¡ï¼Œæˆ‘åœ¨52ä¸ªæ–¹æ³•ä¸­æ‰¾åˆ°äº†è¿™æ ·ä¸€å¥è¯ï¼š
    * â€œå®šä¹‰å…³è”å¯¹è±¡æ—¶å¯ä»¥æŒ‡å®šå†…å­˜ç®¡ç†è¯­ä¹‰ï¼Œç”¨ä»¥æ¨¡ä»¿å®šä¹‰å±æ€§æ—¶æ‰€é‡‡ç”¨çš„â€œæ‹¥æœ‰â€å’Œâ€œéæ‹¥æœ‰å…³ç³»â€â€
å¯è§ï¼Œå…³è¿å¯¹è±¡è·Ÿå±æ€§æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µï¼Œä¸èƒ½æ··ä¸ºä¸€è°ˆã€‚

ç±»åˆ«çš„ä¸‰ä¸ªä½œç”¨ï¼š
    * å¯ä»¥å°†ç±»çš„å®ç°åˆ†æ•£åˆ°å¤šä¸ªä¸åŒæ–‡ä»¶æˆ–å¤šä¸ªä¸åŒæ¡†æ¶ä¸­ï¼Œæ–¹ä¾¿ä»£ç ç®¡ç†ã€‚
    * åˆ›å»ºå¯¹ç§æœ‰æ–¹æ³•çš„å‰å‘å¼•ç”¨ã€‚æ¯”å¦‚åœ¨åˆ«äººçš„ç±»æˆ–è€…æ¡†æ¶ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•çš„æ˜¯æ²¡æœ‰è¯´æ˜çš„ï¼Œè¿™æ—¶å€™é€šè¿‡ç±»åˆ«å£°æ˜è¿™ä¸ªæ–¹æ³•ï¼Œå°±å¯ä»¥åœ¨ä¸ç ´ååŸæ¥æ¡†æ¶çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨åˆ°è¿™ä¸ªæ–¹æ³•ã€‚
    * å‘å¯¹è±¡æ·»åŠ éæ­£å¼åè®®ã€‚
</code></pre><p>Answer 3.   </p>
<ul>
<li>è§¦æ‘¸äº‹ä»¶çš„ä¼ é€’æ˜¯ä»çˆ¶ç©ºé—´ä¼ é€’åˆ°å­æ§ä»¶ï¼Œå¦‚æœçˆ¶ç©ºé—´ä¸èƒ½æ¥æ”¶è§¦æ‘¸äº‹ä»¶ï¼Œé‚£ä¹ˆå­æ§ä»¶å°±ä¸èƒ½æ¥æ”¶è§¦æ‘¸äº‹ä»¶  </li>
<li>å‘ç”Ÿè§¦æ‘¸äº‹ä»¶åï¼Œç³»ç»Ÿä¼šå°†è¯¥äº‹ä»¶åŠ å…¥åˆ°ä¸€ä¸ªç”±UIApplicationç®¡ç†çš„äº‹ä»¶é˜Ÿåˆ—ä¸­ã€‚(ä¸ºä»€ä¹ˆæ˜¯é˜Ÿåˆ—è€Œä¸æ˜¯æ ˆï¼Ÿå› ä¸ºé˜Ÿåˆ—çš„ç‰¹å®šæ˜¯å…ˆè¿›å…ˆå‡ºï¼Œå…ˆäº§ç”Ÿçš„äº‹ä»¶å…ˆå¤„ç†æ‰ç¬¦åˆå¸¸ç†ï¼Œæ‰€ä»¥æŠŠäº‹ä»¶æ·»åŠ åˆ°é˜Ÿåˆ—ã€‚)  </li>
<li>UIApplicationä¼šä»äº‹ä»¶é˜Ÿåˆ—ä¸­å–å‡ºæœ€å‰é¢çš„äº‹ä»¶ï¼Œå¹¶å°†äº‹ä»¶åˆ†å‘ä¸‹å»ä»¥ä¾¿å¤„ç†ï¼Œé€šå¸¸ï¼Œå…ˆå‘é€äº‹ä»¶ç»™åº”ç”¨ç¨‹åºçš„ä¸»çª—å£ï¼ˆkeyWindowï¼‰ã€‚  </li>
<li>ä¸»çª—å£ä¼šåœ¨è§†å›¾å±‚æ¬¡ç»“æ„ä¸­æ‰¾åˆ°ä¸€ä¸ªæœ€åˆé€‚çš„è§†å›¾æ¥å¤„ç†è§¦æ‘¸äº‹ä»¶ï¼Œè¿™ä¹Ÿæ˜¯æ•´ä¸ªäº‹ä»¶å¤„ç†è¿‡ç¨‹çš„ç¬¬ä¸€æ­¥ã€‚<br>æ‰¾åˆ°åˆé€‚çš„è§†å›¾æ§ä»¶åï¼Œå°±ä¼šè°ƒç”¨è§†å›¾æ§ä»¶çš„touchesæ–¹æ³•æ¥ä½œå…·ä½“çš„äº‹ä»¶å¤„ç†ã€‚  </li>
</ul>
<hr>
<p>#####1. <code>id</code> å’Œ <code>instancetype</code> çš„åŒºåˆ«?</p>
<ol>
<li><p>åœ¨ ARC(Auto Reference Count)ç¯å¢ƒä¸‹:</p>
<pre><code>instancetype ç”¨æ¥åœ¨ç¼–è¯‘æœŸç¡®å®šå®ä¾‹çš„ç±»å‹,è€Œä½¿ç”¨ id çš„è¯,ç¼–è¯‘å™¨ä¸æ£€æŸ¥ç±»å‹, è¿è¡Œæ—¶æ£€æŸ¥ç±»å‹.
</code></pre><p>åœ¨ MRC(Manual Reference Count)ç¯å¢ƒä¸‹:</p>
<pre><code>instancetype å’Œ id ä¸€æ ·,ä¸åšå…·ä½“ç±»å‹æ£€æŸ¥
</code></pre></li>
<li><p>id å¯ä»¥ä½œä¸ºæ–¹æ³•çš„å‚æ•°,ä½† instancetype ä¸å¯ä»¥<br>instancetype åªé€‚ç”¨äºåˆå§‹åŒ–æ–¹æ³•å’Œä¾¿åˆ©æ„é€ å™¨çš„è¿”å›å€¼ç±»å‹</p>
</li>
</ol>
<p>#####2. æœ‰æ–¹æ³•æŸ¥çœ‹å½“å‰ç³»ç»Ÿå†…å­˜ä½¿ç”¨çš„æƒ…å†µå—ï¼Ÿ<br>ä¸€èˆ¬æˆ‘ä¸Šæ‰‹æ–°çš„é¡¹ç›®,æ£€æŸ¥å†…å­˜é—®é¢˜ä¸‰éƒ¨æ›²;</p>
<ol>
<li>é™æ€åˆ†æ, åˆæ­¥äº†è§£ä»£ç ä¸è§„èŒƒçš„åœ°æ–¹,æˆ–è€…æ˜¯ä¸€äº›å†…å­˜æ³„æ¼é—®é¢˜ã€‚</li>
<li>instrument, åˆç•¥çš„å®šä½æˆ‘ä»¬åœ¨ä»€ä¹ˆåœ°æ–¹å‘ç”Ÿäº†å†…å­˜æ³„æ¼ã€‚</li>
<li>ä»£ç æµ‹è¯•å†…å­˜æ³„æ¼, è§‚å¯Ÿå¯¹è±¡çš„ç”Ÿæˆå’Œé”€æ¯æ˜¯å¦é…å¯¹ã€‚ä½¿ç”¨MLeaksFinderæ¥é…åˆæ£€æŸ¥</li>
</ol>
<ul>
<li>ä¸¤ä¸ªå¯¹è±¡äº’ç›¸æŒæœ‰ï¼Œä¸»è¦æ˜¯ delegate ä½¿ç”¨ weak å±æ€§, åœ¨ iOS8 ä¸Šç³»ç»Ÿ delegate ä½¿ç”¨çš„æ˜¯ assign è¿™ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜,è¸©è¿‡å‘çš„è€å¸æœºå¯ä»¥æä¸€ä¸‹ã€‚</li>
<li>æœ‰æ—¶å€™éœ€è¦ä½¿ç”¨ removeFromSuperView æ¥é‡Šæ”¾, a æŒæœ‰äº† b ï¼Œ b è¢« add åˆ°äº† c ä¸Š, è€Œåœ¨ç¨‹åºè®¾è®¡ä¸­b çš„ç”Ÿå‘½å‘¨æœŸåº”è¯¥å’Œ a ç›¸åŒ, è¿™ä¸ªæ—¶å€™ä½¿ç”¨ self.b = nil å¹¶ä¸ä¼šå§ b é‡Šæ”¾, æˆ‘ä»¬åº”è¯¥åœ¨ä¹‹å‰åŠ ä¸Š <code>[b removeFromSuperView]</code></li>
</ul>
<p>#####3. ä¸ºä»€ä¹ˆ NotificationCenter è¦ removeObserver? å¦‚ä½•å®ç°è‡ªåŠ¨ removeï¼Ÿ</p>
<ul>
<li>å¦‚æœä¸ç§»é™¤ï¼Œä¸‡ä¸€æ³¨å†Œé€šçŸ¥çš„ç±»è¢«é”€æ¯ä¹‹ååˆå‘é€äº†é€šçŸ¥, ç¨‹åºä¼š crashã€‚ å› ä¸ºé‡æŒ‡é’ˆã€‚</li>
<li>å®ç°è‡ªåŠ¨ remove;é€šè¿‡è‡ªåŠ¨é‡Šæ”¾æœºåˆ¶, é€šè¿‡åŠ¨æ€å±æ€§å°† remove è½¬ç§»ç»™ç¬¬ä¸‰è€…,è§£é™¤è€¦åˆ,è¾¾åˆ°è‡ªåŠ¨å®ç° remove ã€‚</li>
</ul>
<p>#####4. iOSçš„æ²™ç›’ç›®å½•ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿ App Bundle é‡Œé¢éƒ½æœ‰ä»€ä¹ˆï¼Ÿ</p>
<ol>
<li>æ²™ç›’ç»“æ„<ul>
<li>Application: å­˜æ”¾ç¨‹åºæºæ–‡ä»¶, ä¸Šæ¶å‰ç»è¿‡æ•°å­—ç­¾å,ä¸Šæ¶åä¸å¯ä¿®æ”¹</li>
<li>Documents: å¸¸ç”¨ç›®å½•, iCloud å¤‡ä»½ç›®å½•,å­˜æ”¾æ•°æ®,è¿™é‡Œä¸èƒ½ç¼“å­˜æ–‡ä»¶,å¦åˆ™ä¸Šæ¶ä¸è¢«é€šè¿‡</li>
<li>Library<ul>
<li>Caches: å­˜æ”¾ä½“ç§¯å¤§åˆä¸éœ€è¦å¤‡ä»½çš„æ•°æ®, SDWebImage å°±æ˜¯è¿™ä¸ª</li>
<li>Preference: è®¾ç½®ç›®å½•, iCloudä¼šå¤‡ä»½è®¾ç½®ä¿¡æ¯ã€‚</li>
<li>tmp: å­˜æ”¾ä¸´æ—¶æ–‡ä»¶,ä¸ä¼šè¢«å¤‡ä»½,è€Œä¸”è¿™ä¸ªæ–‡ä»¶ä¸‹çš„æ•°æ®æœ‰å¯èƒ½éšæ—¶è¢«æ¸…é™¤</li>
</ul>
</li>
</ul>
</li>
<li>App Bundle<ul>
<li>Info.plist: æ–‡ä»¶çš„é…ç½®ä¿¡æ¯,ç³»ç»Ÿä¾èµ–æ¬¡æ–‡ä»¶è·å–åº”ç”¨ç¨‹åºçš„ç›¸å…³ä¿¡æ¯ã€‚</li>
<li>å¯æ‰§è¡Œæ–‡ä»¶: æ­¤æ–‡ä»¶åŒ…å«åº”ç”¨ç¨‹åºçš„å…¥å£å’Œé€šè¿‡é™æ€é“¾æ¥åˆ°åº”ç”¨ç¨‹åº target çš„ä»£ç ã€‚</li>
<li>èµ„æºæ–‡ä»¶: å›¾ç‰‡å£°éŸ³</li>
<li>å…¶ä»–: å¯ä»¥æ½œå…¥å®šåˆ¶çš„æ•°æ®èµ„æºã€‚</li>
</ul>
</li>
</ol>
<h5 id="5-ç®€å•æè¿°ä¸€ä¸‹å®¢æˆ·ç«¯çš„ç¼“å­˜æœºåˆ¶ï¼Ÿ"><a href="#5-ç®€å•æè¿°ä¸€ä¸‹å®¢æˆ·ç«¯çš„ç¼“å­˜æœºåˆ¶ï¼Ÿ" class="headerlink" title="5.ç®€å•æè¿°ä¸€ä¸‹å®¢æˆ·ç«¯çš„ç¼“å­˜æœºåˆ¶ï¼Ÿ"></a>5.ç®€å•æè¿°ä¸€ä¸‹å®¢æˆ·ç«¯çš„ç¼“å­˜æœºåˆ¶ï¼Ÿ</h5><ul>
<li>ç¼“å­˜å¯ä»¥åˆ†ä¸º:<ul>
<li>å†…å­˜æ•°æ®ç¼“å­˜</li>
<li>æ•°æ®åº“ç¼“å­˜</li>
<li>æ–‡ä»¶ç¼“å­˜</li>
</ul>
</li>
<li>æ¯æ¬¡æƒ³è·å–æ•°æ®çš„æ—¶å€™<ol>
<li>æ£€æŸ¥å†…å­˜ä¸­æœ‰æ— ç¼“å­˜</li>
<li>æ£€æŸ¥æœ¬åœ°æœ‰æ— ç¼“å­˜(æ•°æ®åº“\æ–‡ä»¶)</li>
<li>å‘èµ·è¯·æ±‚</li>
<li>å°†æœåŠ¡å™¨è¿”å›çš„æ•°æ®è¿›è¡Œç¼“å­˜(å†…å­˜æ•°æ®åº“æ–‡ä»¶)</li>
</ol>
</li>
</ul>
<hr>
<h5 id="1-æŒ‰é’®æˆ–è€…-View-åœ¨è¿›è¡Œ-frame-åŠ¨ç”»çš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆç‚¹å‡»-frame-åŠ¨ç”»çš„é‡ç‚¹ä½ç½®æ‰èƒ½è§¦å‘äº‹ä»¶ï¼Ÿå¦‚ä½•åœ¨åŠ¨ç”»è¿‡ç¨‹ä¸­å“åº”äº‹ä»¶ï¼Ÿ"><a href="#1-æŒ‰é’®æˆ–è€…-View-åœ¨è¿›è¡Œ-frame-åŠ¨ç”»çš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆç‚¹å‡»-frame-åŠ¨ç”»çš„é‡ç‚¹ä½ç½®æ‰èƒ½è§¦å‘äº‹ä»¶ï¼Ÿå¦‚ä½•åœ¨åŠ¨ç”»è¿‡ç¨‹ä¸­å“åº”äº‹ä»¶ï¼Ÿ" class="headerlink" title="1.æŒ‰é’®æˆ–è€… View åœ¨è¿›è¡Œ frame åŠ¨ç”»çš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆç‚¹å‡» frame åŠ¨ç”»çš„é‡ç‚¹ä½ç½®æ‰èƒ½è§¦å‘äº‹ä»¶ï¼Ÿå¦‚ä½•åœ¨åŠ¨ç”»è¿‡ç¨‹ä¸­å“åº”äº‹ä»¶ï¼Ÿ"></a>1.æŒ‰é’®æˆ–è€… View åœ¨è¿›è¡Œ frame åŠ¨ç”»çš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆç‚¹å‡» frame åŠ¨ç”»çš„é‡ç‚¹ä½ç½®æ‰èƒ½è§¦å‘äº‹ä»¶ï¼Ÿå¦‚ä½•åœ¨åŠ¨ç”»è¿‡ç¨‹ä¸­å“åº”äº‹ä»¶ï¼Ÿ</h5><p>ç­”ï¼š<br>â‘  <del>åŠ¨ç”»å¼€å§‹åæœ‰ä¸¤ä¸ªå›¾å±‚ï¼š</del><br>ï¼ˆä¿®æ”¹åŸå› ï¼šä¸æ˜¯åŠ¨ç”»å¼€å§‹å,è€Œæ˜¯ view å‡ºç°äº†çš„æ—¶å€™ã€‚åªè¦ view å‡ºç°åœ¨è¯•å›¾ä¸Š,ä»–éƒ½å…·æœ‰è¿™ä¸¤ä¸ªå›¾å±‚ã€‚ï¼‰<br><strong>iOS ä¸­å¯¹äº UIView å…·æœ‰ä¸€ä¸ª CALayer ç±»çš„å±æ€§ layer æˆ‘ä»¬å§‘ä¸”å«ä»– rootLayerã€‚è€Œæ¯ä¸€ä¸ª CALayer éƒ½æœ‰ä¸¤ä¸ªå±æ€§ï¼š</strong><br><del>ä¸€ä¸ª <code>view.layer.presentationLayer</code> ç”¨æ¥æ˜¾ç¤ºåŠ¨ç”»ï¼ˆå±æ€§éšåŠ¨ç”»è¿‡ç¨‹æ…¢æ…¢æ”¹å˜)</del><br>ï¼ˆä¿®æ”¹åŸå› :æ„Ÿè§‰æ˜¾ç¤ºåŠ¨ç”»è¿™ä¸ªç”¨æ³•ä¸å¤§å‡†ç¡®,æˆ‘è¯­æ–‡ä¹Ÿä¸å¥½ğŸ˜‚ï¼‰<br><strong>ä¸€ä¸ª<code>resentationLayer</code> æŒ‡å‘ˆç°å›¾å±‚,æ˜¯æ¨¡å‹å›¾å±‚çš„å¤åˆ¶ï¼Œä»–çš„å±æ€§å€¼ä»£è¡¨äº†åœ¨ä»»ä½•æŒ‡å®šæ—¶åˆ»å½“å‰çš„æ˜¾ç¤ºã€‚æ‰€ä»¥åœ¨ UIView æ²¡æœ‰å‡ºç°çš„æ—¶å€™è¿™ä¸ª view çš„å±æ€§å€¼ä¸º nilï¼Œ å‡ºç°ä¹‹åæ— è®º view æ˜¯å¦åŠ¨ç”»ï¼Œè¿™ä¸ªå€¼çš„å†…å­˜åœ°å€æ¯æ¬¡æ‰“å°éƒ½ä¸ä¸€æ ·ã€‚</strong></p>
<p><del>ä¸€ä¸ª <code>view.layer</code> ç”¨æ¥å¤„ç†ç”¨æˆ·äº¤äº’ï¼ˆåŠ¨ç”»ä¸€å¼€å§‹å±æ€§å€¼ç«‹å³æ”¹å˜åˆ°åŠ¨ç”»ç»“æŸæ—¶çš„çŠ¶æ€å’Œä½ç½®)</del><br>(ä¿®æ”¹åŸå› : CALayer æ˜¯ä¸å¤„ç†äº¤äº’çš„,è¿™ä¸€ç‚¹å¯ä»¥ä»UIViewæœ‰<code>userInteractionEnabled</code>è¿™ä¸ªå±æ€§ï¼Œè€ŒCALayeræ²¡æœ‰å¯ä»¥çœ‹å‡º,å¹¶ä¸”çœ‹ iOS-CoreAnimationè¿™æœ¬ä¹¦,è¿™æ ·ä½¿ç”¨ modelLayer æ¥æè¿°æ›´ MVC ä¸€äº›)<br><strong>ä¸€ä¸ª<code>modelLayer</code> æŒ‡æ¨¡å‹å±‚,åœ¨ view æ˜¾ç¤ºå‡ºæ¥çš„æ—¶å€™<code>view.layer</code> = <code>view.layer.presentationLayer.modelLayer</code> = <code>view.layer.view.layer.modelLayer</code>ã€‚ ä¸‰è€…å†…å­˜åœ°å€æ˜¯ä¸€æ ·çš„,ä¿å­˜å®é™…çš„å±æ€§å€¼ã€‚</strong></p>
<p><strong>æœ€åæ€»ç»“ï¼šå½“ä¸€ä¸ªå›¾å±‚çš„å±æ€§æ”¹å˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬è®¾ç½®çš„å±æ€§å¹¶æ²¡æœ‰ç›´æ¥è°ƒç”¨å›¾å±‚çš„å¤–è§‚ï¼Œåªæ˜¯å®šä¹‰äº†å›¾å±‚åŠ¨ç”»ç»“æŸä¹‹åå°†è¦å˜åŒ–çš„å¤–è§‚ã€‚</strong>å…·ä½“å…³ç³»è§ä¸‹å›¾ï¼š</p>
<center><img src="http://ocg4av0wv.bkt.clouddn.com/layer%E7%9F%A5%E8%AF%86.png" alt=""><br>fromã€ŠiOS-CoreAnimationã€‹<br></center>

<p>â‘¡ è¦åœ¨ç§»åŠ¨åŠ¨ç”»çš„è¿‡ç¨‹ä¸­å¤„ç† è§¦æ‘¸å¯ä»¥é‡å†™ <code>UIViewçš„hitTest</code> æ–¹æ³•<br>(æ€»çš„æ¥è¯´ï¼Œé€šè¿‡<code>view.layer.presentationLayer</code>çš„ç›¸å…³å±æ€§ï¼Œå°±å¯ä»¥å®ç°å“åº”éœ€æ±‚äº†ï¼Œé€šè¿‡<code>touchbegan</code>åˆ¤æ–­ç”¨æˆ·ç‚¹å‡»çš„ä½ç½®æ˜¯å¦åœ¨<code>view.layer.presentationLayer.frame</code>ä¹‹å†…ï¼Œæ˜¯ã€ŠiOSâ€”CoreAnimationã€‹ä¸­å¦å¤–ä¸€ä¸ªå®ç°æ–¹å¼)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">- (id)hitTest:(CGPoint)point withEvent:(UIEvent *)event &#123;</div><div class="line">    NSArray *subViews = self.subviews;</div><div class="line">    for (UIView *subView in subViews) &#123;</div><div class="line">        if([subView isKindOfClass:[FoamImageView class]])&#123; //æ˜¯è¦æ‰¾çš„å›¾ç‰‡</div><div class="line">            CALayer *layer = subView.layer.presentationLayer; //å›¾ç‰‡çš„æ˜¾ç¤ºå±‚            </div><div class="line">            if(CGRectContainsPoint(layer.frame, point))&#123; //è§¦æ‘¸ç‚¹åœ¨æ˜¾ç¤ºå±‚ä¸­ï¼Œè¿”å›å½“å‰å›¾ç‰‡</div><div class="line">                return subView;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return [super hitTest:point withEvent:event];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">- (void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event &#123;</div><div class="line">    CGPoint point = [[touches anyObject] locationInView:self.view];</div><div class="line">    </div><div class="line">    if (CGRectContainsPoint(button_.layer.presentationLayer.frame, point)) &#123;</div><div class="line">        NSLog(@&quot;youxiangying&quot;);</div><div class="line">        [self buttonEvent:button_];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>å‚è€ƒèµ„æ–™</strong><br><a href="http://blog.sina.com.cn/s/blog_771849d301010ta0.html">èµ„æ–™1</a></p>
<p><a href="https://my.oschina.net/iamzkt/blog/126503">Objective-C ä¹‹ @propertyå’Œ@synthesize</a>  </p>
<p><a href="https://www.pupboss.com/property-and-synthesize/">å›ç‚‰ç¯‡ä¹‹ï¼ˆä¸€ï¼‰â€“ @propertyå’Œ@synthesize</a>  </p>
<p><a href="http://arthurchen.blog.51cto.com/2483760/761426">iOSå¼€å‘ï¼šObjective-Cç²¾ç¡®çš„è´§å¸è®¡ç®—</a> </p>
<p><a href="http://www.jianshu.com/p/4703d704c953">â€˜NSDecimalNumberâ€“åè¿›åˆ¶æ•°â€™ä½¿ç”¨æ–¹æ³•(å¸¦ä¾‹å­)</a></p>
<p><a href="https://yq.aliyun.com/wenzhang/show_41715">objective c-OCä¸­æœ‰æ–¹æ³•é‡è½½å—ï¼Ÿå…·ä½“æ˜¯æ€ä¹ˆæ ·ï¼Ÿ</a></p>
<p><a href="http://www.cnblogs.com/LiLihongqiang/p/5645907.html">http://www.cnblogs.com/LiLihongqiang/p/5645907.html</a><br><a href="http://www.infocool.net/kb/IOS/201610/200104.html">http://www.infocool.net/kb/IOS/201610/200104.html</a><br><a href="http://www.cocoachina.com/ios/20160113/14896.html">http://www.cocoachina.com/ios/20160113/14896.html</a><br><a href="http://www.jianshu.com/p/2e074db792ba">http://www.jianshu.com/p/2e074db792ba</a>  </p>
<p>think python</p>
<p><a href="http://www.voidcn.com/blog/lixuemei45/article/p-5021040.html">www.voidcn.com</a><br><a href="https://www.amazon.com/iOS-Core-Animation-Advanced-Techniques-ebook/dp/B00EHJCORC/ref=sr_1_1?ie=UTF8&amp;qid=1423192842&amp;sr=8-1&amp;keywords=Core+Animation+Advanced+Techniques">iOS-CoreAnimation</a></p>
<hr>
<h5 id="å†™åœ¨åé¢çš„è¯"><a href="#å†™åœ¨åé¢çš„è¯" class="headerlink" title="å†™åœ¨åé¢çš„è¯"></a>å†™åœ¨åé¢çš„è¯</h5><p>è¿™ä¸ªç³»åˆ—æ‰€æœ‰çš„æ–‡ç« éƒ½æ˜¯åœ¨ä¸€ä¸ªQQç¾¤é‡Œé¢è·Ÿå°ä¼™ä¼´ä»¬è®¨è®ºå‡ºæ¥çš„,æ¯ä¸ª topic éƒ½å·²ç»æ”¾åœ¨äº† GitHub çš„ä¸€ä¸ªä»“åº“ä¸­ <a href="https://github.com/GetOfferSoldier/Objective-C"><strong>è¿™æ˜¯åœ°å€</strong></a>ã€‚ æ‰€æœ‰å†…å®¹çš„æ›´æ–°çš„å°†åœ¨è¿™ä¸ªä»“åº“ä¸­è¿›è¡Œ,åœ¨åšå®¢ä¸­å°†ä¸å†è¿›è¡Œæ›´æ–°ã€‚æœ‰ä»»ä½•é—®é¢˜ï¼Œéƒ½å¯ä»¥åœ¨è¿™ä¸ªä»“åº“ä¸­ç»™æˆ‘ä»¬æ issue æˆ–è€… pull request.</p>

      
    </div>

    <div>
      
        
<div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="http://ocg4av0wv.bkt.clouddn.com/2017-07-22-qrcode_for_gh_ef8fdb22f3c3_430.jpg" alt="CepheusSun wechat" style="width: 200px; max-width: 100%;"/>
    <div>è®¢é˜…æˆ‘çš„å…¬ä¼—å·ï¼Œæ¯æ¬¡æ›´æ–°æˆ‘éƒ½ä¸ä¸€å®šä¼šå‘Šè¯‰ä½ ï¼</div>
</div>


      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>åšæŒåŸåˆ›æŠ€æœ¯åˆ†äº«ï¼Œæ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œï¼</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>èµ</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="http://ocg4av0wv.bkt.clouddn.com/wechat.png" alt="CepheusSun WeChat Pay"/>
          <p>å¾®ä¿¡æ‰“èµ</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="http://ocg4av0wv.bkt.clouddn.com/alipay.png" alt="CepheusSun Alipay"/>
          <p>æ”¯ä»˜å®æ‰“èµ</p>
        </div>
      
    </div>
  </div>


      
    </div>

    <div>
      
        
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong>æœ¬æ–‡ä½œè€…ï¼š</strong>
      CepheusSun
    </li>
    <li class="post-copyright-link">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="http://www.CepheusSun.com/interview.html" title="iOSé¢è¯•é›†é”¦">http://www.CepheusSun.com/interview.html</a>
    </li>
    <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>
      æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
    </li>
  </ul>


      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/iOSé¢è¯•é›†é”¦/" rel="tag"># iOSé¢è¯•é›†é”¦</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/python ä¸­ str å’Œ list äº’ç›¸è½¬æ¢.html" rel="next" title="python ä¸­ str å’Œ list äº’ç›¸è½¬æ¢">
                <i class="fa fa-chevron-left"></i> python ä¸­ str å’Œ list äº’ç›¸è½¬æ¢
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/Requests åº“.html" rel="prev" title="python çˆ¬è™«ä¹‹ä¸€ "Requests åº“å­¦ä¹ "">
                python çˆ¬è™«ä¹‹ä¸€ "Requests åº“å­¦ä¹ " <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>


    
    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://ocg4av0wv.bkt.clouddn.com/2017-07-18--3b9f0d5785eefeb7.jpg"
               alt="CepheusSun" />
          <p class="site-author-name" itemprop="name">CepheusSun</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">59</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">15</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">32</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/CepheusSun" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/208883862/home?wvr=5&lf=reg" target="_blank" title="å¾®åš">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  å¾®åš
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/u/7f9d7158212f" target="_blank" title="ç®€ä¹¦">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  ç®€ä¹¦
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/CepheusSun_" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              å‹æƒ…é“¾æ¥
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="https://CepheusTeam.github.io/" title="CepheusTeam" target="_blank">CepheusTeam</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://kevincym.github.io/" title="KevinCym" target="_blank">KevinCym</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://maojianxiang.github.io/" title="å°æ¯›çš„åšå®¢" target="_blank">å°æ¯›çš„åšå®¢</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://goileo.top/" title="Goileo" target="_blank">Goileo</a>
                </li>
              
            </ul>
          </div>
        

        <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=110 src="//music.163.com/outchain/player?type=0&id=964908739&auto=1&height=90"></iframe>

      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-5"><a class="nav-link" href="#2-å¿«é€Ÿæ’åºï¼Œå½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><span class="nav-number">1.</span> <span class="nav-text">2.å¿«é€Ÿæ’åºï¼Œå½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-åˆ—ä¸¾å‡º-iOS-å¼€å‘ä¸­ä¸‰ç§æœ€å¸¸å‡ºç°çš„å¾ªç¯å¼•ç”¨çš„åœºæ™¯ã€‚"><span class="nav-number">2.</span> <span class="nav-text">6.åˆ—ä¸¾å‡º iOS å¼€å‘ä¸­ä¸‰ç§æœ€å¸¸å‡ºç°çš„å¾ªç¯å¼•ç”¨çš„åœºæ™¯ã€‚</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-MVC-æ¨¡å¼å…·ä½“æŒ‡ä»€ä¹ˆï¼ŸiOSç°åœ¨æµè¡Œçš„-MVVM-æ˜¯ä»€ä¹ˆï¼Ÿ"><span class="nav-number">3.</span> <span class="nav-text">7.MVC æ¨¡å¼å…·ä½“æŒ‡ä»€ä¹ˆï¼ŸiOSç°åœ¨æµè¡Œçš„ MVVM æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-iOS-ä¸­è®¾è®¡é‡‘é’±è®¡ç®—å’Œæ¯”è¾ƒæ—¶ï¼Œç”¨æ•°å€¼åº”è¯¥ç”¨å“ªä¸ªç±»å‹æ¥å¤„ç†ï¼Ÿ"><span class="nav-number">4.</span> <span class="nav-text">8.iOS ä¸­è®¾è®¡é‡‘é’±è®¡ç®—å’Œæ¯”è¾ƒæ—¶ï¼Œç”¨æ•°å€¼åº”è¯¥ç”¨å“ªä¸ªç±»å‹æ¥å¤„ç†ï¼Ÿ</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Answer"><span class="nav-number"></span> <span class="nav-text">Answer</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-ç®€å•æè¿°ä¸€ä¸‹å®¢æˆ·ç«¯çš„ç¼“å­˜æœºåˆ¶ï¼Ÿ"><span class="nav-number">1.</span> <span class="nav-text">5.ç®€å•æè¿°ä¸€ä¸‹å®¢æˆ·ç«¯çš„ç¼“å­˜æœºåˆ¶ï¼Ÿ</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-æŒ‰é’®æˆ–è€…-View-åœ¨è¿›è¡Œ-frame-åŠ¨ç”»çš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆç‚¹å‡»-frame-åŠ¨ç”»çš„é‡ç‚¹ä½ç½®æ‰èƒ½è§¦å‘äº‹ä»¶ï¼Ÿå¦‚ä½•åœ¨åŠ¨ç”»è¿‡ç¨‹ä¸­å“åº”äº‹ä»¶ï¼Ÿ"><span class="nav-number">2.</span> <span class="nav-text">1.æŒ‰é’®æˆ–è€… View åœ¨è¿›è¡Œ frame åŠ¨ç”»çš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆç‚¹å‡» frame åŠ¨ç”»çš„é‡ç‚¹ä½ç½®æ‰èƒ½è§¦å‘äº‹ä»¶ï¼Ÿå¦‚ä½•åœ¨åŠ¨ç”»è¿‡ç¨‹ä¸­å“åº”äº‹ä»¶ï¼Ÿ</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#å†™åœ¨åé¢çš„è¯"><span class="nav-number">3.</span> <span class="nav-text">å†™åœ¨åé¢çš„è¯</span></a></li></ol></div>
            
          </div>
        </section>
      <!--/noindex-->
      

      
    </div>
  </aside>



        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CepheusSun</span>
</div>



        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      äºº
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      æ¬¡
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/VEN/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/VEN/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/VEN/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/VEN/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/VEN/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/VEN/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (search_path.endsWith("json")) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("3VegSLQBjr1EXkI6a2GR2aXY-gzGzoHsz", "bUW35k3am6UQE29tQY4kDeP5");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
        addVisit();
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });

    // æ·»åŠ ç»Ÿè®¡
    function addVisit() {
      var url2 = 'http://chaxun.1616.net/s.php?type=ip&output=json&callback=?&_=' + Math.random();
      $.getJSON(url2, function(data) {
        var $visitors = $(".leancloud_visitors");
        var url = $visitors.attr('id').trim();
        var title = $visitors.attr('data-flag-title').trim();
        // å£°æ˜ä¸€ä¸ª Todo ç±»å‹
        var Todo = AV.Object.extend('visit_list');
        // æ–°å»ºä¸€ä¸ª Todo å¯¹è±¡
        var todo = new Todo();
        var $visitors = $(".leancloud_visitors");
        var url = $visitors.attr('id').trim();
        var title = $visitors.attr('data-flag-title').trim();
        console.log(data);
        todo.set('ip_add', data.Ip);
        todo.set('ip_loc', data.Isp);
        todo.set('title', title);
        todo.set('url', url);
        todo.set('Browser' , data.Browser);
        todo.set('os' , data.OS);
        todo.save().then(function () {
        }, function(error) {
        }); 
      });
    }
  </script>



  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  

  

</body>
</html>
